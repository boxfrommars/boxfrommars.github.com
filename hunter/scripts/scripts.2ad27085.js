"use strict";angular.module("fastenHuntersFrontendApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","mobile-angular-ui","mobile-angular-ui.gestures","ui.select","ui.router"]).config(["$stateProvider",function(a){a.state("root",{url:"",templateUrl:"views/layout.html",controller:"LayoutController",controllerAs:"LayoutCtrl",resolve:{}}).state("error",{url:"/error",controller:"ErrorController",controllerAs:"ErrorCtrl",templateUrl:"views/general/error.html"})}]),angular.module("fastenHuntersFrontendApp").filter("moment",function(){return function(a,b){return moment(a).format(b)}}).filter("momentUTC",function(){return function(a,b){return moment(a).utc().format(b)}}).filter("momentTime",function(){return function(a){return moment(a).format("L LT")}}).filter("momentDate",function(){return function(a){return moment(a).format("L")}}),angular.module("fastenHuntersFrontendApp").factory("contactRepository",["$q",function(a){var b=[{priority:0,name:"LOW INTEREST",id:1},{priority:1,name:"HIGH INTEREST",id:2},{priority:2,name:"POLITE REFUSAL",id:3},{priority:3,name:"HARD REFUSAL",id:4},{priority:3,name:"DO NOT BOTHER",id:5}],c=[{id:"1",lp:"LP90210",response_id:1,name:"Kirill E.",note:"There are many variations of passages of Lorem Ipsum available",response_count:1,response:{name:"LOW INTEREST",priority:0}},{id:"2",lp:"LP42424",response_id:2,name:"Dmitry G.",note:"Contrary to popular belief, Lorem Ipsum is not simply random text",response_count:2,response:{name:"HIGH INTEREST",priority:1}},{id:"3",lp:"LP12345",response_id:3,name:"Kirill E.",note:"College in Virginia, looked up one of the more obscure Latin words, consectetur",response_count:3,response:{name:"POLITE REFUSAL",priority:2}},{id:"4",lp:"LP23456",response_id:4,name:"Vera G.",note:"There are many variations of passages of Lorem Ipsum available",response_count:4,response:{name:"HARD REFUSAL",priority:3}},{id:"5",lp:"LP83559",response_id:1,name:"Kirill E.",note:"Contrary to popular belief, Lorem Ipsum is not simply random text",response_count:5,response:{name:"LOW INTEREST",priority:0}},{id:"6",lp:"LP22092",response_id:2,name:"Dmitry G.",note:"There are many variations of passages of Lorem Ipsum available",response_count:1,response:{name:"HIGH INTEREST",priority:1}},{id:"7",lp:"LP72227",response_id:3,name:"Vera G.",note:"Contrary to popular belief, Lorem Ipsum is not simply random text",response_count:2,response:{name:"POLITE REFUSAL",priority:2}},{id:"8",lp:"LP96199",response_id:4,name:"Vera G.",note:"College in Virginia, looked up one of the more obscure Latin words, consectetur",response_count:3,response:{name:"HARD REFUSAL",priority:3}},{id:"9",lp:"LP22453",response_id:5,name:"Vera G.",note:"College in Virginia, looked up one of the more obscure Latin words, consectetur",response_count:4,response:{name:"LOW INTEREST",priority:3}},{id:"10",lp:"LP41234",response_id:2,name:"Vera G.",note:"There are many variations of passages of Lorem Ipsum available",response_count:4,response:{name:"HIGH INTEREST",priority:1}}];return{list:function(){return a.when(c)},search:function(b){var d=_.filter(c,function(a){return 0===a.lp.toUpperCase().indexOf(b.toUpperCase())});return a.when(d)},find:function(b){return a.when(_.findWhere(c,{id:b}))},getResponseTypes:function(){return a.when(b)},save:function(b){var d=_.extend({},b,{response_count:1,response_id:b.response.id,name:"Evdakov K.",id:""+(_.max(_.pluck(c,"id"))+1)});return c.push(d),a.when(d)}}}]),angular.module("fastenHuntersFrontendApp").directive("contactRow",[function(){return{restrict:"AE",scope:{contact:"="},templateUrl:"views/contactRow.html"}}]),angular.module("fastenHuntersFrontendApp").controller("LayoutController",["$scope","$state",function(a,b){a.$state=b}]),angular.module("fastenHuntersFrontendApp").controller("CodeController",["codeRepository","$scope",function(a,b){var c=this;b.$on("mobile-angular-ui.state.changed.uiSidebarRight",function(a,b){b&&c.refreshCode()}),c.refreshCode=function(){a.getCode().then(function(a){c.code=a})}}]).factory("codeRepository",["$q",function(a){var b=["PENIS","VAGINA","NIPPLE","TESTICLE"];return{getCode:function(){var c=_.sample(b)+_.random(100,999);return a.when(c)}}}]),angular.module("fastenHuntersFrontendApp").config(["$stateProvider",function(a){a.state("root.contacts",{url:"/contacts",templateUrl:"views/contacts.html",controller:"ContactsController",controllerAs:"ContactsCtrl",resolve:{}}).state("root.contact",{url:"/contact/:id",templateUrl:"views/contact.html",controller:"ContactViewController",controllerAs:"ContactCtrl",resolve:{}})}]).controller("ContactsController",["$timeout","contactRepository","$state",function(a,b,c){var d=this;d.contacts=[],d.searchQuery="",d.contact={},b.getResponseTypes().then(function(a){d.responseTypes=a}),d.search=function(a){b.search(a).then(function(a){d.contacts=a})},d.clearSearch=function(){d.searchQuery=""},console.log("root.contacts",c.is("root.contacts")),d.saveContact=function(a){a.$valid&&b.save(d.contact).then(function(a){console.log("created",a),c.go("root.contact",{id:a.id})})}}]).controller("ContactViewController",["$stateParams","contactRepository","$state",function(a,b,c){var d=this;console.log("root.contact",c.is("root.contact"));var e=a.id;b.find(e).then(function(a){console.log("contact",a),d.contact=a})}]);